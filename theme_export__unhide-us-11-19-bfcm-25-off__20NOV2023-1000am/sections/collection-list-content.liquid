{% schema %}
{
    "name": "Collection List Content",
    "settings": [
        {
            "type": "image_picker",
            "id": "hero",
            "label": "Hero Image"
        },
        {
            "type": "text",
            "id": "heading",
            "label": "Collection List Heading",
            "default": "Let’s get you couch-ing."
        },
        {
            "type": "textarea",
            "id": "subheading",
            "label": "Collection List Subheading",
            "default": "So soft, you’ll never want to get up."
        }
    ],
    "blocks": [
        {
            "type": "product",
            "name": "product",
            "settings": [
                {
                    "type": "product",
                    "id": "product",
                    "label": "Product"
                },
                {
                    "type": "textarea",
                    "id": "description",
                    "label": "Product Description",
                    "info": "Defaults to product description if left blank"
                },
                {
                    "type": "image_picker",
                    "id": "image_desktop",
                    "label": "Image - Desktop"
                },
                {
                    "type": "image_picker",
                    "id": "image_mobile",
                    "label": "Image - Mobile"
                }
            ]
        },
        {
            "type": "heading",
            "name": "Heading",
            "settings": [
                {
                    "type": "text",
                    "id": "title",
                    "label": "Title"
                },
                {
                    "type": "textarea",
                    "id": "subtitle",
                    "label": "Subtitle"
                }
            ]
        }
    ],
    "presets": [
      {
        "name": "Collection List Content"
      }
    ]
}
{% endschema %}

<section class="collection-list-content">
	{% for block in section.blocks %}
		{% if block.type == 'heading' %}
			<section class="collection-list-header">
				<div class="type-spacing">
					<h2 class="t-h-1">{{ block.settings.title }}</h2>
					<p>{{ block.settings.subtitle }}</p>
				</div>
			</section>
		{% elsif block.type == 'product' %}
			{% assign p = block.settings.product %}
			{% render 'item-CLP',
				product: p,
				description: block.settings.description,
				image_desktop: block.settings.image_desktop,
				image_mobile: block.settings.image_mobile,
                btn_class: 'btn button py-c-light py-hv-c-dark py-bg-c-dark py-hv-bg-c-light py-btn-large'
			%}
		{% endif %}
	{% endfor %}
</section>